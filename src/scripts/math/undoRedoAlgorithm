define(['backbone'], function (Backbone) {
    'use strict';


    function UndoRedoAlgorithm(model){
        this.model = model;
        this.history = [model];
        this.iterator = 0;
    }

    UndoRedoAlgorithm.prototype = {
        constructor: UndoRedoAlgorithm,
        start: function(){
            console.log(this.history);
            console.log(this.iterator);
        },
        save: function(){
            this.history.splice(this.iterator+1);
            var name = document.getElementById('project-name').value;
            this.history.push(name);
            this.iterator++;
            console.log('save');
            console.log(this.history);
            console.log(this.iterator);
        },
        undo: function(){
            if(this.iterator > 0)
                this.iterator--;
            console.log('undo');
            console.log(this.iterator);
            console.log(this.history[this.iterator]);

        },
        redo: function(){
            if(this.iterator < this.history.length-1)
                this.iterator++;
            console.log('redo');
            console.log(this.iterator);
            console.log(this.history[this.iterator]);
        }
    };

    return UndoRedoAlgorithm;
});
